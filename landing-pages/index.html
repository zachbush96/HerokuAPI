<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Weather App</title>
  <meta name="description" content="Weather App">
  <meta name="author" content="Zach Bush">
  <link rel="stylesheet"  type="text/css" src="/css/styles.css">
  <style>
    * {text-align: center;
        justify-content: center;}
  </style>
</head>

<body>
  <h1 id="currentTemp">Current Temp:</h1><span id="description"></span>
  <br>  
  <span id="temp"></span>
  <br><br>  
  <label for="ZipCode1">Enter Zip Code:</label>
  <input name="ZipCode1" id="ZipCode1" value="" maxlength=5 type="numbers">
  <button id="submitButton" onClick=getWeatherData()>Send Data</button>
 
  <script> 
  const api_url = "https://api.openweathermap.org/data/2.5/weather?zip=";
  const appid = "&units=imperial&appid=6ceb02706b07605db27fb252a1bf8521";
  
  async function getWeatherData() {
    const zipCode = document.getElementById('ZipCode1').value;
    const completeURL = api_url + zipCode + appid;
    console.log(completeURL);
    const response = await fetch(api_url + zipCode + appid);
    const data = await response.json();
    const actualTemp = data['main']['feels_like'];
    document.getElementById('temp').textContent = "Feels Like: "+ actualTemp + " degrees";
    console.log(data);
    document.getElementById("description").textContent = "Weather in  " + data['name'] +": "+ data['weather'][0]['description'];
    return data;
}
  </script>
</body>
</html>
