<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Weather App</title>
  <meta name="description" content="Weather App">
  <meta name="author" content="Zach Bush">
  <link rel="stylesheet"  type="text/css" src="/css/styles.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <style>
    * { text-align: center;
        justify-content: center;}
  </style>
</head>

<body>
  <h1 id="currentTemp">Current Temp:</h1><span id="description"></span>
  <br>  
  <span id="temp"></span>
  <br><br>  
 <!--<form action="https://simple-sample-api.herokuapp.com/api/v1/weatherbyZip" method="GET">
    <label for="ZipCode1">Enter Zip Code:</label>
    <input name="ZipCode1" id="ZipCode1" value="" maxlength=5 type="numbers">
    <button id="submitButton" onClick=getWeatherData()>Send Data</button>
    <button id="localButton" type="submit">Submit</button>  
  </form>
-->
  <label for="ZipCode1">Enter Zip Code:</label>
  <input name="ZipCode1" id="ZipCode1" value="" maxlength=5 type="numbers">
  <button id="localButton" onClick="getWeatherLocally()">Get Weather</button>
  <script> 
  async function getWeatherLocally() {
    const zipCode = document.getElementById('ZipCode1').value;
    const response = await fetch("https://simple-sample-api.herokuapp.com/api/v1/weatherbyZip?zip="+zipCode)
    const data = await response.json()
    const actualTemp = data['main']['feels_like'];
    document.getElementById('temp').textContent = "Feels Like: "+ actualTemp + " degrees";
    console.log(data);
    document.getElementById("description").textContent = "Weather in  " + data['name'] +": "+ data['weather'][0]['description'];
  }
  </script>
  <br><br><br><br>
  <a href="https://github.com/zachbush96/HerokuAPI">GitHub Source Files</a>
</body>
</html>
